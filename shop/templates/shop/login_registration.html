{% extends 'base.html' %}

{% block title %}
  {{ title }}
{% endblock %}

{% block main %}
{% if messages %}
  <div class="container mt-3">
    {% for mes in messages %}
      <div class="alert alert-{% if mes.tags == "error" %} danger {% else %}{{ mes.tags }}{% endif %}">
        {{ mes }}
      </div>
    {% endfor %}
  </div>
{% endif %}

<main class="py-5">
  <div style="margin-top: 150px;"></div>
  <div class="container">
    <div class="row justify-content-center gap-4">
      
      <!-- Login -->
      <div class="col-md-5">
        <div class="bg-white shadow-sm rounded p-4">
          <h2 class="text-center mb-4">Войти в аккаунт</h2>
          <form method="post" enctype="multipart/form-data" action="{% url 'user_login' %}">
            {% csrf_token %}
            <div class="form-group mb-3">
              {{ login_form.username }}
            </div>
            <div class="form-group mb-3">
              {{ login_form.password }}
            </div>
            <button type="submit" class="btn btn-dark w-100">Войти</button>
          </form>
        </div>
      </div>

      <!-- Registration -->
      <div class="col-md-5">
        <div class="bg-white shadow-sm rounded p-4">
          <h2 class="text-center mb-4">Создать аккаунт</h2>
          <form method="post" enctype="multipart/form-data" action="{% url 'registration' %}">
            {% csrf_token %}
            <div class="form-group mb-3">
              {{ registration_form.username }}
            </div>
            <div class="form-group mb-3">
              {{ registration_form.email }}
            </div>
            <div class="form-group mb-3">
              {{ registration_form.password1 }}
            </div>
            <div class="form-group mb-3">
              {{ registration_form.password2 }}
            </div>
            <button type="submit" class="btn btn-success w-100">Зарегистрироваться</button>
          </form>
        </div>
      </div>

    </div>
  </div>
  <div style="margin-top: 150px;"></div>
</main>

{% endblock %}
